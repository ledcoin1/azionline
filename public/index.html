<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>Socket.IO екі ойыншы мысалы</title>
<script src="/socket.io/socket.io.js"></script>
</head>
<body>
<h1>Онлайн екі ойыншы мысалы</h1>

<div id="info">Ойынға қосылу үшін батырманы басыңыз</div>
<button id="joinBtn">Ойынға қосылу</button>

<script>
const joinBtn = document.getElementById("joinBtn");
const info = document.getElementById("info");

// Сервермен байланыс арнасын ашамыз
const socket = io();

// Батырма басылғанда серверге хабар жіберу
joinBtn.onclick = () => {
  const userId = Math.floor(Math.random() * 1000);
  socket.emit("joinGame", { userId });
  info.innerText = "⏳ Серверге қосылуда...";
  joinBtn.disabled = true;
};

// Серверден хабар қабылдау
socket.on("message", (msg) => {
  info.innerText = msg;
});
</script>
</body>
</html>
