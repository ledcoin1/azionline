<!DOCTYPE html>
<html lang="kk">
<head>
<meta charset="UTF-8">
<title>Socket.IO минимал мысал</title>
<script src="/socket.io/socket.io.js"></script>
</head>
<body>
<h1>Socket.IO байланыс мысалы</h1>

<div id="info">Ойынға қосылу үшін батырманы басыңыз</div>
<button id="joinBtn">Ойынға қосылу</button>

<script>
const joinBtn = document.getElementById("joinBtn");
const info = document.getElementById("info");

// Сервермен байланыс арнасын ашу
const socket = io();

joinBtn.onclick = () => {
  const userId = Math.floor(Math.random() * 1000); // кездейсоқ userId
  socket.emit("joinGame", { userId }); // серверге хабар жіберу
  info.innerText = "⏳ Серверге қосылуда...";
};

// Серверден хабар алу
socket.on("message", (msg) => {
  info.innerText = msg;
});
</script>
</body>
</html>
