<!DOCTYPE html>
<html lang="kk">
<head>
  <meta charset="UTF-8">
  <title>üÉè –û–Ω–ª–∞–π–Ω –î—É—Ä–∞–∫</title>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <style>
    body {
      font-family: Arial, sans-serif;
      text-align: center;
      padding-top: 40px;
      background: #f2f2f2;
    }
    h2 {
      margin-bottom: 30px;
    }
    button {
      font-size: 18px;
      padding: 15px 30px;
      margin: 5px;
      cursor: pointer;
    }
    #info {
      margin-bottom: 20px;
      font-size: 18px;
    }
    #hand button {
      width: 80px;
    }
  </style>
</head>
<body>

<h2>üÉè –û–Ω–ª–∞–π–Ω –î—É—Ä–∞–∫</h2>
<div id="info">–û–π—ã–Ω“ì–∞ –∫—ñ—Ä—É “Ø—à—ñ–Ω —Ç”©–º–µ–Ω–¥–µ–≥—ñ –±–∞—Ç—ã—Ä–º–∞–Ω—ã –±–∞—Å—ã“£—ã–∑</div>
<button id="joinBtn">–û–π—ã–Ω“ì–∞ –∫—ñ—Ä—É</button>

<div id="hand"></div>

<script>
  // Telegram WebApp —Ç–µ–∫—Å–µ—Ä—É
  if (!window.Telegram || !Telegram.WebApp.initData) {
    document.body.innerHTML = "‚ùå –¢–µ–∫ Telegram –∞—Ä“õ—ã–ª—ã –∞—à—ã–ª–∞–¥—ã";
    throw new Error("Not Telegram");
  }

  const user = Telegram.WebApp.initDataUnsafe.user;
  const userId = user.id;

  const info = document.getElementById("info");
  const joinBtn = document.getElementById("joinBtn");
  const handDiv = document.getElementById("hand");

  // Frontend —Ç–µ–∫ –≤–∏–∑—É–∞–ª–¥—ã –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å ‚Äì –∫–µ–π—ñ–Ω —Å–µ—Ä–≤–µ—Ä–≥–µ “õ–æ—Å–∞–º—ã–∑
  joinBtn.onclick = () => {
    info.innerText = `“ö–æ—à –∫–µ–ª–¥—ñ“£—ñ–∑, ${user.first_name}!\n“ö–∞—Ä—Å—ã–ª–∞—Å –∫“Ø—Ç—ñ–ª—É–¥–µ...`;
    joinBtn.disabled = true;

    // –ë“±–ª –∂–µ—Ä–¥–µ –∫–µ–π—ñ–Ω Socket.IO –∞—Ä“õ—ã–ª—ã —Å–µ—Ä–≤–µ—Ä–≥–µ “õ–æ—Å—ã–ª—É –±–æ–ª–∞–¥—ã
    // “ö–∞–∑—ñ—Ä–≥—ñ —É–∞“õ—ã—Ç—Ç–∞ —Ç–µ–∫ —Ñ—Ä–æ–Ω—Ç–µ–Ω–¥ –≤–∏–∑—É–∞–ª—ã
    showDummyCards();
  };

  function showDummyCards() {
    // “ö–æ–ª–¥–∞“ì—ã 3 –∫–∞—Ä—Ç–∞–Ω—ã –∫”©—Ä—Å–µ—Ç–µ–º—ñ–∑
    const cards = ["6‚ô†","7‚ô•","10‚ô¶"];
    handDiv.innerHTML = "";
    cards.forEach(card => {
      const btn = document.createElement("button");
      btn.innerText = card;
      handDiv.appendChild(btn);
    });

    info.innerText += "\n–°–µ–Ω—ñ“£ –∫–∞—Ä—Ç–∞–ª–∞—Ä—ã“£ –¥–∞–π—ã–Ω!";
  }
</script>

</body>
</html>
